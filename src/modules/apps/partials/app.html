<tr class="app cursor-pointer" data-name="<%=app.name%>">
	<td class="d-none d-md-table-cell p-0">
		<div class="card-image p-2">
			<img src="<%=(_.includes(app.icon, '/') ? app.icon : `/assets/img/apps/${app.icon}`)%>">
		</div>
	</td>
	<td>
		<div class="d-flex align-items-center mb-n1" style="max-width: 237px;">
			<div class="text-truncate"><%=app.title%></div>
			<%if (app.hasUpdates) {%>
				<div class="badge bd-green-100 rounded-pill ms-2" data-bs-toggle="tooltip" data-bs-original-title="Updates available">
					<i class="icon-solid icon-download icon-fw"></i>
				</div>
			<%}%>
		</div>
		<div>
			<%if (!_.isEmpty(app.url)) {%>
				<a href="<%=app.url%>" target="<%=(app?.target || app.name)%>" class="d-inline-flex align-items-center link-underline link-underline-opacity-0 link-underline-opacity-75-hover pe-none pe-md-auto">
					<small><%=_.replace(app.url, /^https?:\/\//, '')%></small><i class="icon-solid icon-arrow-up-right-from-square icon-fw icon-2xs ms-1"></i>
				</a>
			<%} else {%>
				&nbsp;
			<%}%>
		</div>
	</td>
	<td class="text-end text-nowrap d-none d-md-table-cell">
		<%if (!app.resourceMetrics) {%>
			<i class="icon-solid icon-spinner-third icon-fw icon-spin"></i>
		<%} else {%>
			<small class="fw-light"><%=app.resourceMetrics?.cpu?.percent.toFixed(2)%>%</small>
		<%}%>
	</td>
	<td class="text-end text-nowrap d-none d-md-table-cell">
		<%if (!app.resourceMetrics) {%>
			<i class="icon-solid icon-spinner-third icon-fw icon-spin"></i>
		<%} else {%>
			<small class="fw-light" data-bs-toggle="tooltip" data-bs-original-title="<%=prettyBytes(app.resourceMetrics?.memory?.usage || 0, { binary: true })%>"><%=app.resourceMetrics?.memory?.percent.toFixed(2)%>%</small>
		<%}%>
	</td>
	<td class="text-end text-nowrap d-none d-md-table-cell">
		<%if (!app.resourceMetrics) {%>
			<i class="icon-solid icon-spinner-third icon-fw icon-spin"></i>
		<%} else {%>
			<small class="fw-light"><%=prettyBytes(app.resourceMetrics?.storage?.dataset || 0, { binary: true })%></small>
		<%}%>
	</td>
	<td class="text-end text-nowrap d-none d-md-table-cell">
		<%if (!app.resourceMetrics) {%>
			<i class="icon-solid icon-spinner-third icon-fw icon-spin"></i>
		<%} else {%>
			<small class="fw-light"><%=prettyBytes(app.resourceMetrics?.storage?.snapshots || 0, { binary: true })%></small>
		<%}%>
	</td>
	<td class="text-center text-nowrap">
		<%let color =''%>
		<%if (app.state === 'success') color = 'green'%>
		<%if (app.state === 'warning') color = 'yellow'%>
		<%if (_.includes(['danger', undefined], app.state)) color = 'red'%>
		<div class="badge border border-light rounded-pill <%=`bd-${color}-100`%> fw-light">
			<%=_.size(_.filter(app.projectContainers, { state: 'running' }))%> / <%=_.size(app.projectContainers)%>
		</div>
	</td>
	<td class="text-center px-0">
		<%=appActionsTemplate({ app, jobs })%>
	</td>
	<td class="text-center">
		<i class="icon-solid icon-angle-right icon-fw text-body-tertiary"></i>
	</td>
</tr>
